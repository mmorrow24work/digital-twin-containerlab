# Master AgentX configuration - REQUIRED for FRR AgentX support
master agentx

# AgentX socket configuration
agentXSocket tcp:localhost:705
agentXTimeout 1
agentXRetries 5

# Basic SNMP configuration - ALLOW ACCESS FROM ANY IP
rocommunity public
rwcommunity private

# System information
sysLocation "FRR Docker Container"
sysContact "admin@example.com"
# sysName will automatically use the container hostname

# SNMP Trap Configuration - Send traps to PC2
# SNMPv2c traps to PC2 (replace with actual IP if needed)
trap2sink PC2 public
trap2sink PC2:162 public

# Alternative: Send to specific IP address
# trap2sink 192.168.1.100 public
# trap2sink 192.168.1.100:162 public

# SNMPv1 traps (optional, for legacy systems)
# trapsink PC2 public

# Trap community string
trapcommunity public

# Enable various trap types
authtrapenable 1
# linkUpDownNotifications yes

# Access control (allow access from any IP address)
# Allow read-only access from any IP with 'public' community
com2sec readonly default public

# Allow read-write access from any IP with 'private' community  
com2sec readwrite default private

# Map security names to groups
group MyROGroup v1 readonly
group MyROGroup v2c readonly
group MyRWGroup v1 readwrite
group MyRWGroup v2c readwrite

# Define views
view all included .1 80
view system included .1.3.6.1.2.1.1

# Grant access
access MyROGroup "" any noauth exact all none none
access MyRWGroup "" any noauth exact all all none

# Logging
logTimestamp yes

# AgentX permissions - allow FRR user to connect
# Note: Alpine might handle this differently, so we'll be permissive
agentXPerms 0660 0550

# Security note: This configuration allows SNMP access from any IP
# For production use, restrict access to specific networks:
# rocommunity public 192.168.1.0/24
# rwcommunity private 10.0.0.0/8

# To modify trap destination:
# Replace "PC2" with actual hostname or IP address of your trap receiver
# Example: trap2sink 192.168.1.50 public
